<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz Junino</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap');
    body {
      margin: 0;
      font-family: 'Comic Neue', cursive, sans-serif;
      background-image: url('https://i.imgur.com/mRfZK45.jpg');
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      height: 100vh;
      color: #4B3B00;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
      box-sizing: border-box;
    }
    .container {
      background-color: rgba(255, 255, 255, 0.85);
      border-radius: 20px;
      width: 100%;
      max-width: 480px;
      padding: 20px 30px;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
      user-select: none;
    }
    h1 {
      text-align: center;
      color: #b37500;
      margin-bottom: 10px;
      text-shadow: 1px 1px 2px #6b4a00;
    }
    .progress-container {
      width: 100%;
      background-color: #ffd54f;
      border-radius: 12px;
      overflow: hidden;
      height: 22px;
      margin-bottom: 20px;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
    }
    .progress-bar {
      height: 100%;
      background-color: #b38500;
      width: 0%;
      transition: width 0.4s ease;
      border-radius: 12px 0 0 12px;
    }
    .question {
      font-size: 1.25rem;
      margin-bottom: 20px;
      font-weight: 700;
      text-align: center;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    button.option {
      background-color: #ffd54f;
      border: none;
      padding: 14px 20px;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(183, 117, 0, 0.4);
      transition: background-color 0.3s ease;
      user-select: none;
      text-align: center;
    }
    button.option:hover:not(.disabled) {
      background-color: #ffbf00;
    }
    button.option.correct {
      background-color: #b38500;
      color: #fff;
      cursor: default;
      box-shadow: 0 3px 8px #7a5e00;
    }
    button.option.incorrect {
      background-color: #d63447;
      color: #fff;
      cursor: default;
      box-shadow: 0 3px 8px #a12b39;
    }
    button.option.disabled {
      pointer-events: none;
      opacity: 0.7;
    }
    .result {
      text-align: center;
      font-size: 1.4rem;
      font-weight: 700;
      color: #6b4a00;
      margin-top: 30px;
      user-select: none;
    }
    @media(max-height:600px){
      body {
        align-items: flex-start;
        padding-top: 30px;
        padding-bottom: 30px;
        overflow-y: auto;
      }
      .container {
        box-shadow: none;
        background-color: rgba(255,255,255,0.95);
      }
    }
  </style>
</head>
<body>
  <div class="container" role="main">
    <h1>ðŸŽ‰ Quiz Junino ðŸŽ‰</h1>
    <div class="progress-container" aria-label="Barra de progresso do quiz">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div id="quiz">
      <!-- Perguntas carregadas aqui -->
    </div>
    <audio id="soundWrong" src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg" preload="auto"></audio>
  </div>

  <script>
    const questions = [
      { q: "Qual Ã© o prato tÃ­pico mais famoso da festa junina?", a: "Canjica", o: ["Feijoada", "Canjica", "Sushi", "HambÃºrguer"] },
      { q: "Qual danÃ§a Ã© tradicional das festas juninas?", a: "Quadrilha", o: ["ForrÃ³", "Samba", "Quadrilha", "AxÃ©"] },
      { q: "Qual item representa fartura nas festas juninas?", a: "Milho", o: ["Arroz", "Milho", "Trigo", "FeijÃ£o"] },
      { q: "Qual personagem Ã© comum na quadrilha?", a: "Noivo", o: ["Padre", "Cavaleiro", "Noivo", "Rei"] },
      { q: "O que Ã© comum fazer na fogueira de SÃ£o JoÃ£o?", a: "Pular", o: ["Assar pizza", "DanÃ§ar samba", "Pular", "Pintar"] },
      { q: "Qual doce Ã© feito com amendoim?", a: "PÃ© de moleque", o: ["Canjica", "Doce de leite", "PÃ© de moleque", "Cocada"] },
      { q: "Qual acessÃ³rio Ã© tÃ­pico da festa junina?", a: "ChapÃ©u de palha", o: ["BonÃ©", "Boina", "ChapÃ©u de palha", "Tiara"] },
      { q: "Em que mÃªs ocorrem as festas juninas?", a: "Junho", o: ["Maio", "Junho", "Julho", "Agosto"] },
      { q: "Qual cor predomina nas bandeirinhas juninas?", a: "Coloridas", o: ["Verde", "Amarela", "Azul", "Coloridas"] },
      { q: "Qual Ã© o nome do santo homenageado no dia 24 de junho?", a: "SÃ£o JoÃ£o", o: ["Santo AntÃ´nio", "SÃ£o Pedro", "SÃ£o Jorge", "SÃ£o JoÃ£o"] }
    ];
    
    let currentQuestion = 0;
    let score = 0;

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function loadQuestion() {
      const quiz = document.getElementById("quiz");
      if (currentQuestion >= questions.length) {
        quiz.innerHTML = `<div class="result" role="alert">VocÃª acertou ${score} de ${questions.length} perguntas!</div>`;
        return;
      }

      const q = questions[currentQuestion];
      let html = `<div class="question">${q.q}</div><div class="options">`;
      const shuffledOptions = shuffleArray([...q.o]);
      shuffledOptions.forEach(option => {
        html += `<button class="option" onclick="selectAnswer(this, '${option}')" type="button">${option}</button>`;
      });
      html += "</div>";
      quiz.innerHTML = html;
      updateProgress();
    }

    function selectAnswer(button, answer) {
      const q = questions[currentQuestion];
      const options = document.querySelectorAll("button.option");
      options.forEach(btn => btn.classList.add("disabled"));
      
      if (answer === q.a) {
        button.classList.add("correct");
        score++;
      } else {
        button.classList.add("incorrect");
        document.getElementById('soundWrong').play();
        options.forEach(btn => {
          if (btn.textContent === q.a) btn.classList.add("correct");
        });
      }

      currentQuestion++;
      setTimeout(loadQuestion, 1200);
    }

    function updateProgress() {
      const progress = (currentQuestion / questions.length) * 100;
      document.getElementById("progressBar").style.width = progress + "%";
    }

    loadQuestion();
  </script>
</body>
</html>
